---
// Componente Header para la landing page
---

<header id="main-header" class="fixed top-0 left-0 right-0 z-50 bg-white transition-all duration-300 animate-fade-in-down">
  <nav class="container mx-auto px-4 sm:px-6 lg:px-8">
    <div id="header-container" class="flex items-center justify-between h-20 transition-all duration-300">
      <!-- Logo -->
      <div class="flex-shrink-0">
        <a href="/" class="header-logo block transition-all duration-300">
          <img 
            src="/fonts/lev-logo.png" 
            alt="LEV" 
            class="h-12 lg:h-14 w-auto object-contain"
          />
        </a>
      </div>

      <!-- Navegación Desktop -->
      <div class="hidden lg:flex items-center space-x-10 header-nav">
        <a href="/#inicio" class="nav-link text-primary hover:text-primary transition-all duration-300 font-sans text-lg font-light tracking-wide relative group">
          <span class="relative z-10">Inicio</span>
          <span class="absolute bottom-0 left-0 w-0 h-0.5 bg-primary transition-all duration-300 group-hover:w-full"></span>
        </a>
        <a href="/#biohacking" class="nav-link text-primary hover:text-primary transition-all duration-300 font-sans text-lg font-light tracking-wide relative group">
          <span class="relative z-10">Biohacking</span>
          <span class="absolute bottom-0 left-0 w-0 h-0.5 bg-primary transition-all duration-300 group-hover:w-full"></span>
        </a>
        <a href="/#epigenetica" class="nav-link text-primary hover:text-primary transition-all duration-300 font-sans text-lg font-light tracking-wide relative group">
          <span class="relative z-10">Epigenética</span>
          <span class="absolute bottom-0 left-0 w-0 h-0.5 bg-primary transition-all duration-300 group-hover:w-full"></span>
        </a>
        <a href="/#servicios" class="nav-link text-primary hover:text-primary transition-all duration-300 font-sans text-lg font-light tracking-wide relative group">
          <span class="relative z-10">Servicios</span>
          <span class="absolute bottom-0 left-0 w-0 h-0.5 bg-primary transition-all duration-300 group-hover:w-full"></span>
        </a>
        <a href="/#nosotros" class="nav-link text-primary hover:text-primary transition-all duration-300 font-sans text-lg font-light tracking-wide relative group">
          <span class="relative z-10">Nosotros</span>
          <span class="absolute bottom-0 left-0 w-0 h-0.5 bg-primary transition-all duration-300 group-hover:w-full"></span>
        </a>
        <a href="/test-epigenetico" class="nav-link text-primary hover:text-primary transition-all duration-300 font-sans text-lg font-light tracking-wide relative group">
          <span class="relative z-10">Test epigenético</span>
          <span class="absolute bottom-0 left-0 w-0 h-0.5 bg-primary transition-all duration-300 group-hover:w-full"></span>
        </a>
      </div>

      <!-- Botón CTA -->
      <div class="hidden lg:block">
        <a 
          href="/#contacto" 
          class="header-cta px-8 py-3 bg-primary text-white hover:bg-primary/90 transition-all duration-300 font-sans text-lg font-medium rounded-full"
        >
          Contáctanos
        </a>
      </div>

      <!-- Menú Mobile -->
      <button 
        id="mobile-menu-button"
        class="lg:hidden text-primary hover:text-primary transition-colors"
        aria-label="Abrir menú"
      >
        <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16" />
        </svg>
      </button>
    </div>

    <!-- Menú Mobile Desplegable -->
    <div id="mobile-menu" class="hidden lg:hidden pb-4 pt-2">
      <div class="flex flex-col space-y-3">
        <a href="/#inicio" class="text-primary hover:text-primary transition-all duration-300 font-sans text-lg font-light tracking-wide py-3 relative group">
          <span class="relative z-10">Inicio</span>
          <span class="absolute left-0 bottom-0 w-0 h-0.5 bg-primary transition-all duration-300 group-hover:w-full"></span>
        </a>
        <a href="/#biohacking" class="text-primary hover:text-primary transition-all duration-300 font-sans text-lg font-light tracking-wide py-3 relative group">
          <span class="relative z-10">Biohacking</span>
          <span class="absolute left-0 bottom-0 w-0 h-0.5 bg-primary transition-all duration-300 group-hover:w-full"></span>
        </a>
        <a href="/#epigenetica" class="text-primary hover:text-primary transition-all duration-300 font-sans text-lg font-light tracking-wide py-3 relative group">
          <span class="relative z-10">Epigenética</span>
          <span class="absolute left-0 bottom-0 w-0 h-0.5 bg-primary transition-all duration-300 group-hover:w-full"></span>
        </a>
        <a href="/#servicios" class="text-primary hover:text-primary transition-all duration-300 font-sans text-lg font-light tracking-wide py-3 relative group">
          <span class="relative z-10">Servicios</span>
          <span class="absolute left-0 bottom-0 w-0 h-0.5 bg-primary transition-all duration-300 group-hover:w-full"></span>
        </a>
        <a href="/#nosotros" class="text-primary hover:text-primary transition-all duration-300 font-sans text-lg font-light tracking-wide py-3 relative group">
          <span class="relative z-10">Nosotros</span>
          <span class="absolute left-0 bottom-0 w-0 h-0.5 bg-primary transition-all duration-300 group-hover:w-full"></span>
        </a>
        <a href="/test-epigenetico" class="text-primary hover:text-primary transition-all duration-300 font-sans text-lg font-light tracking-wide py-3 relative group">
          <span class="relative z-10">Test epigenético</span>
          <span class="absolute left-0 bottom-0 w-0 h-0.5 bg-primary transition-all duration-300 group-hover:w-full"></span>
        </a>
        <a 
          href="/#contacto" 
          class="inline-block px-6 py-2.5 bg-primary text-white hover:bg-primary/90 transition-colors font-sans text-base font-medium rounded-full text-center mt-2"
        >
          Contáctanos
        </a>
      </div>
    </div>
  </nav>
</header>

<script>
  // Toggle del menú mobile
  const mobileMenuButton = document.getElementById('mobile-menu-button');
  const mobileMenu = document.getElementById('mobile-menu');

  if (mobileMenuButton && mobileMenu) {
    mobileMenuButton.addEventListener('click', () => {
      mobileMenu.classList.toggle('hidden');
    });

    // Cerrar menú al hacer clic en un enlace
    const mobileLinks = mobileMenu.querySelectorAll('a');
    mobileLinks.forEach(link => {
      link.addEventListener('click', () => {
        mobileMenu.classList.add('hidden');
      });
    });
  }

  // Cambiar header al hacer scroll con efecto glass y reducir tamaño
  const header = document.getElementById('main-header');
  const headerContainer = document.getElementById('header-container');
  const headerLogo = header?.querySelector('.header-logo');
  const headerNav = header?.querySelector('.header-nav');
  const headerCta = header?.querySelector('.header-cta');
  
  function updateHeader() {
    if (!header || !headerContainer) return;
    
    const scrollY = window.scrollY;
    const heroHeight = document.getElementById('inicio')?.offsetHeight || 600;
    const scrollThreshold = heroHeight * 0.2; // Aplicar glass después de un poco de scroll
    
          if (scrollY > scrollThreshold) {
            // Aplicar efecto glass
            header.classList.remove('bg-white');
            header.classList.add('bg-white/80', 'backdrop-blur-md', 'backdrop-saturate-150', 'border-b', 'border-white/20', 'shadow-lg');
      
      // Reducir tamaño del header manteniendo alineación vertical
      headerContainer.classList.remove('h-20');
      headerContainer.classList.add('h-16');
      headerContainer.classList.add('items-center'); // Asegurar alineación vertical
      if (headerLogo) {
        const logoImg = headerLogo.querySelector('img');
        if (logoImg) {
          logoImg.classList.remove('h-12', 'lg:h-14');
          logoImg.classList.add('h-10', 'lg:h-12');
        }
      }
      if (headerNav) {
        headerNav.classList.remove('space-x-10');
        headerNav.classList.add('space-x-8');
        const navLinks = headerNav.querySelectorAll('.nav-link');
        navLinks.forEach(link => {
          link.classList.remove('text-lg');
          link.classList.add('text-base');
        });
      }
      if (headerCta) {
        headerCta.classList.remove('px-8', 'py-3', 'text-lg');
        headerCta.classList.add('px-6', 'py-2', 'text-base');
      }
          } else {
            // Header normal en el hero
            header.classList.remove('bg-white/80', 'backdrop-blur-md', 'backdrop-saturate-150', 'border-b', 'border-white/20', 'shadow-lg');
            header.classList.add('bg-white');
      
      // Restaurar tamaño original
      headerContainer.classList.remove('h-16');
      headerContainer.classList.add('h-20');
      headerContainer.classList.add('items-center'); // Asegurar alineación vertical
      if (headerLogo) {
        const logoImg = headerLogo.querySelector('img');
        if (logoImg) {
          logoImg.classList.remove('h-10', 'lg:h-12');
          logoImg.classList.add('h-12', 'lg:h-14');
        }
      }
      if (headerNav) {
        headerNav.classList.remove('space-x-8');
        headerNav.classList.add('space-x-10');
        const navLinks = headerNav.querySelectorAll('.nav-link');
        navLinks.forEach(link => {
          link.classList.remove('text-base');
          link.classList.add('text-lg');
        });
      }
      if (headerCta) {
        headerCta.classList.remove('px-6', 'py-2', 'text-base');
        headerCta.classList.add('px-8', 'py-3', 'text-lg');
      }
    }
  }

  window.addEventListener('scroll', updateHeader);
  updateHeader(); // Ejecutar al cargar
</script>

<style>
  .nav-link {
    position: relative;
    padding-bottom: 0.5rem;
    display: flex;
    align-items: center;
  }
  
  #header-container {
    display: flex;
    align-items: center;
  }
</style>


